---
import { Image } from 'astro:assets'
import visa from '@assets/visa.svg'
import masterCard from '@assets/masterCard.svg'

const paymentStatus = {
	inProgress:
		'bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md border border-purple-100 dark:bg-gray-700 dark:border-purple-500 dark:text-purple-400',
	inReview:
		'bg-orange-100 text-orange-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md border border-orange-100 dark:bg-gray-700 dark:border-orange-300 dark:text-orange-300',
	completed:
		'bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md dark:bg-gray-700 dark:text-green-400 border border-green-100 dark:border-green-500',
	cancelled:
		'bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md border border-red-100 dark:border-red-400 dark:bg-gray-700 dark:text-red-400',
}

const columnStyle = {
	dark: 'p-4 text-sm font-normal text-gray-500 whitespace-nowrap dark:text-gray-400',
	light: 'p-4 text-sm font-normal text-gray-900 whitespace-nowrap dark:text-white',
	headers: 'p-4 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-white',
}

const tableHeader = [
	{ col: 'Transaction' },
	{ col: 'Date & Time' },
	{ col: 'Amount' },
	{ col: 'Reference number' },
	{ col: 'Payment method' },
	{ col: 'Status' },
]

const tableItems = [
	{
		transaction: 'Payment from Bonnie Green',
		date: 'Apr 10 ,2023',
		amount: '$7966',
		reference: 46309892395397,
		paymentMenthodProvider: masterCard,
		paymentMenthodDigits: '••• 924',
		status: 'Completed',
		statusClass: paymentStatus.completed,
	},
	{
		transaction: 'Payment from John Doe',
		date: 'Apr 19 ,2023',
		amount: '$2943',
		reference: 56239231256250,
		paymentMenthodProvider: visa,
		paymentMenthodDigits: '••• 435',
		status: 'In progress',
		statusClass: paymentStatus.inProgress,
	},
	{
		transaction: 'Payment from Liana Hammond',
		date: 'May 1 ,2023',
		amount: '$7240',
		reference: 82591575489330,
		paymentMenthodProvider: visa,
		paymentMenthodDigits: '••• 711',
		status: 'In review',
		statusClass: paymentStatus.inReview,
	},
	{
		transaction: 'Payment from Kirsty Freeman',
		date: 'May 23 ,2023',
		amount: '$6612',
		reference: 23810686093866,
		paymentMenthodProvider: masterCard,
		paymentMenthodDigits: '••• 852',
		status: 'In progress',
		statusClass: paymentStatus.inProgress,
	},
	{
		transaction: 'Payment from Axel Benson',
		date: 'June 7 ,2023',
		amount: '$5823',
		reference: 42353907341393,
		paymentMenthodProvider: masterCard,
		paymentMenthodDigits: '••• 364',
		status: 'Cancelled',
		statusClass: paymentStatus.cancelled,
	},
	{
		transaction: 'Payment from Nataniel Browning',
		date: 'May 1 ,2023',
		amount: '$7240',
		reference: 57548982591330,
		paymentMenthodProvider: visa,
		paymentMenthodDigits: '••• 325',
		status: 'In review',
		statusClass: paymentStatus.inReview,
	},
	{
		transaction: 'Payment from Xander Parker',
		date: 'Apr 10 ,2023',
		amount: '$7966',
		reference: 92395463098397,
		paymentMenthodProvider: masterCard,
		paymentMenthodDigits: '••• 428',
		status: 'Completed',
		statusClass: paymentStatus.completed,
	},
	{
		transaction: 'Payment from Antonia Hayes',
		date: 'June 7 ,2023',
		amount: '$5823',
		reference: 41423539073393,
		paymentMenthodProvider: visa,
		paymentMenthodDigits: '••• 921',
		status: 'Cancelled',
		statusClass: paymentStatus.cancelled,
	},
]
---

<div class="flex flex-col mt-6">
	<div class="overflow-x-auto rounded-lg">
		<div class="inline-block min-w-full align-middle">
			<div class="overflow-hidden shadow sm:rounded-lg">
				<table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
					<thead class="bg-gray-50 dark:bg-gray-700">
						<tr>
							{
								tableHeader.map(({ col }) => {
									return (
										<th scope="col" class={columnStyle.headers}>
											{col}
										</th>
									)
								})
							}
						</tr>
					</thead>
					<tbody class="bg-white dark:bg-gray-800">
						{
							tableItems.map(
								({ amount, date, paymentMenthodDigits, paymentMenthodProvider, reference, status, statusClass, transaction }, i) => {
									return (
										<tr class={i % 2 === 0 ? '' : 'bg-gray-50 dark:bg-gray-700'}>
											<td class={columnStyle.dark}>{transaction}</td>
											<td class={columnStyle.light}>{date}</td>
											<td class={columnStyle.dark}>{amount}</td>
											<td class={columnStyle.light}>{reference}</td>
											<td class="inline-flex items-center p-4 space-x-2 text-sm font-normal text-gray-500 whitespace-nowrap dark:text-gray-400">
												<>
													<Image width={24} height={24} src={paymentMenthodProvider} alt={`${transaction}`} />
													<span>{paymentMenthodDigits}</span>
												</>
											</td>
											<td class="p-4 whitespace-nowrap">
												<span class={statusClass}>{status}</span>
											</td>
										</tr>
									)
								}
							)
						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
