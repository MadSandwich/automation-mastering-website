---
import { Image } from 'astro:assets'
import visa from '@assets/visa.svg'
import masterCard from '@assets/mastercard.svg'

const paymentStatus = {
	inProgress:
		'bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md border border-purple-100 dark:bg-gray-700 dark:border-purple-500 dark:text-purple-400',
	inReview:
		'bg-orange-100 text-orange-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md border border-orange-100 dark:bg-gray-700 dark:border-orange-300 dark:text-orange-300',
	completed:
		'bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md dark:bg-gray-700 dark:text-green-400 border border-green-100 dark:border-green-500',
	cancelled:
		'bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-md border border-red-100 dark:border-red-400 dark:bg-gray-700 dark:text-red-400',
}

const columnStyle = {
	dark: 'p-4 text-sm font-normal text-gray-500 whitespace-nowrap dark:text-gray-400',
	light: 'p-4 text-sm font-normal text-gray-900 whitespace-nowrap dark:text-white',
	headers: 'p-4 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-white',
}

const tableHeader = [
	{ col: 'Transaction' },
	{ col: 'Date & Time' },
	{ col: 'Amount' },
	{ col: 'Reference number' },
	{ col: 'Payment method' },
	{ col: 'Status' },
]

const tableItems = [
	{
		transaction: 'Payment from Bonnie Green',
		date: 'Apr 23 ,2021',
		amount: '$2300',
		reference: Number('0047568936'),
		paymentMenthodProvider: masterCard,
		paymentMenthodDigits: '••• 924',
		status: 'Completed',
		statusClass: paymentStatus.completed,
	},
	{
		transaction: 'Payment from John Doe',
		date: 'Apr 23 ,2023',
		amount: '$9300',
		reference: Number('0047568936'),
		paymentMenthodProvider: visa,
		paymentMenthodDigits: '••• 435',
		status: 'In progress',
		statusClass: paymentStatus.inProgress,
	},
]
---

<table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
	<thead class="bg-gray-50 dark:bg-gray-700">
		<tr>
			{
				tableHeader.map(({ col }) => {
					return (
						<th scope="col" class={columnStyle.headers}>
							{col}
						</th>
					)
				})
			}
		</tr>
	</thead>
	<tbody class="bg-white dark:bg-gray-800">
		{
			tableItems.map(({ amount, date, paymentMenthodDigits, paymentMenthodProvider, reference, status, statusClass, transaction }, i) => {
				return (
					<tr class={i % 2 === 0 ? '' : 'bg-gray-50 dark:bg-gray-700'}>
						<td class={columnStyle.dark}>{transaction}</td>
						<td class={columnStyle.light}>{date}</td>
						<td class={columnStyle.dark}>{amount}</td>
						<td class={columnStyle.light}>{reference}</td>
						<td class="inline-flex items-center p-4 space-x-2 text-sm font-normal text-gray-500 whitespace-nowrap dark:text-gray-400">
							<>
								<Image width={24} height={24} src={paymentMenthodProvider} alt={`Paymnet method provider for ${transaction}`} />
								<span>{paymentMenthodDigits}</span>
							</>
						</td>
						<td class="p-4 whitespace-nowrap">
							<span class={statusClass}>{status}</span>
						</td>
					</tr>
				)
			})
		}
	</tbody>
</table>
